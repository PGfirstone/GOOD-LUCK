# 网络安全

#### 在kali中安装docker和安装火狐浏览器：

1.打开终端

2.添加 Docker 的GPG 密钥

```
curl -fsSL https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian/gpg | sudo apt-key add -
```

3.将Docker的源加入apt源列表中(将Docker存储库添加到Kali Linux系统中)

```
echo 'deb https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian/ buster stable' | sudo tee /etc/apt/sources.list.d/docker.list
```

4.更新apt包索引，安装*最新版本*的Docker Engine和containerd

```
apt update 
apt-get install docker-ce docker-ce-cli containerd.io docker-compose -y
```

（#安装最新版本，docker-ce指的是Docker Community Edition，docker-ce-cli作用是docker命令行工具包，containerd.io作用是容器接口相关包，Compose是用于定义和运行多容器Docker应用程序的工具。通过Compose，您可以使用YML文件来配置应用程序需要的所有服务。然后，使用一个命令，就可以从YML文件配置中创建并启动所有服务。）

5.通过version查看是否安装成功

```
docker version #查看docker是否安装成功
docker-compose version #查看docker-compose是否安装成功
```

6.使用`systemctl`命令查看Docker服务状态

```
systemctl status docker
#如果未显示active，则说明服务未启动，需要手动开启
systemctl start docker

```

7.将服务设置为开机自启动

```
systemctl enable docker
```

8.安装火狐浏览器

```
apt install -y firefox #安装
apt remove firefox     #卸载
apt upgrade firefox    #升级
```



------

#### 在docker中安装DVWA

1.通过docker拉取镜像

```
docker pull vulnerables/web-dvwa
```

2.通过镜像启动容器

```
docker run --rm -it -p 80:80 vulnerables/web-dvwa
```

3.去虚拟机的浏览器里输入127.0.0.1打开DVWA

------

#### 常见的网站漏洞

常见的网站漏洞有哪些？

1.SQL注入：泄露破坏数据库，数据库中可能有账号密码等敏感信息。

2.文件包含：

3.XXE：

4.XSS：

5.CSRF：

6.SSRF：

7.文件上传：上传后门病毒木马到网站中，破坏网站甚至系统。

8.命令执行：获取目标机器命令权限，执行非法命令，破坏或控制受害机。

9.未授权访问：

10.反序列化：

11.信息泄露：

------

#### DVWA靶场搭建

DVWA是OWASP官方编写的PHP网站，包含了各种网站常见漏洞，可以学习攻击及修复方式。

(没解决)

------

#### 命令执行漏洞详解

命令执行漏洞的命令连接符

命令连接符有windows系统和Linux系统：

（1）Linux系统：

```
; (分号)  分号用于分隔两个独立的命令，无论前一个命令是否成功，都会执行最后一个命令。
&& (逻辑与)  逻辑与连接符将两个命令连接在一起，只有在前一个命令成功执行的情况下，才会执行后一个命令。
| (管道)  管道连接符用于将一个命令的输出传递给另一个命令作为输入。
|| (逻辑或)  逻辑或连接符将两个命令连接在一起，只有前一个命令执行失败的情况下，才会执行后一个命令。
` (反引号)  用于将命令的输出插入到另外一个命令中。
$(命令)   通常用于做shell提示符，表示您当前的命令行处于普通用户权限下，而#表示正在超级用户或管理员权限下工作。

```

（2）windows系统：

```
& (AND)  逻辑与连接符用于将多个命令连接在一起，使他们按顺序执行。
| (管道)  管道连接符用于将一个命令的输出传递给另一个命令作为输入。
&& (逻辑与)  用于连接两个命令，表示只有在一个命令成功执行的情况下，才会执行第二个命令。
|| (逻辑或)  逻辑或连接符用于在第一个命令失败时执行第二个命令。

```

------

#### DVWA的命令执行漏洞

命令执行漏洞是通过利用命令或者命令连接符携带其他命令来进行干扰。

在DVWA中可以自由设定DVWA的网络安全等级。

一共有四个：low、Medium、High、Impossible。这分别时四个安全等级，不同的安全等级会有不同的输入命令的限制。

1.Low等级：

![image-20240325160135923](C:\Users\26985\AppData\Roaming\Typora\typora-user-images\image-20240325160135923.png)

里面没有限制输入的命令连接符。（自己对比）

2.Medium等级：

![image-20240325160245754](C:\Users\26985\AppData\Roaming\Typora\typora-user-images\image-20240325160245754.png)

限制输入部分命令连接符。（自己对比）

3.High等级：

![image-20240325160358277](C:\Users\26985\AppData\Roaming\Typora\typora-user-images\image-20240325160358277.png)

限制了大部分能输入的命令连接符。（自己对比）

4.Impossible等级：

![image-20240325160512931](C:\Users\26985\AppData\Roaming\Typora\typora-user-images\image-20240325160512931.png)

限制的很严谨。（自己对比）

防御命令执行的最高效的方法，就是过滤命令连接符，将上面那些命令连接符号替换成空，或判断用户输入这些符号就终止执行。



渗透测试的方法：

白盒测试：可以看到源代码，查看源代码过滤机制来进行渗透。

黑盒测试：看不到源代码，依次尝试常见的命令连接符。

------

####  SQL注入漏洞

什么是SQL？

SQL：Structured Query Language 结构化查询语言（用于操控数据库的语言）



什么是SQL注入漏洞？
